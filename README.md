## Lem-in (Go)

Поиск оптимального перемещения муравьёв по графу из стартовой комнаты в конечную. В проекте есть два режима:
- CLI: печать ходов в stdout.
- Сервер + веб-визуализация: выдаёт JSON и визуализирует движение муравьёв в браузере.

---

## Структура
- `cmd/main.go` — CLI-режим (классический вывод шагов).
- `cmd/server/main.go` — HTTP-сервер, отдаёт статику из `web/` и эндпоинт `/data`.
- `web/` — фронтенд: `visual.html`, `style.css`, `script.js`, `image/ANTS.svg`.
- `helpers/` — типы и утилиты.
- `examples/` — тестовые входные файлы `.txt`.

---

## Формат входного файла (.txt)
Обязательный, строгий.
- Первая строка: количество муравьёв (целое > 0).
- Далее комнаты и координаты: `name X Y`
  - Директивы: `##start` перед строкой стартовой комнаты и `##end` перед конечной.
- Далее рёбра: `A-B` (между существующими комнатами).
- Комментарии `#...` (но не директивы `##...`) игнорируются.

Пример (сокращённый):
```
4
##start
0 0 3
2 2 5
3 4 0
##end
1 8 3
0-2
2-3
3-1
```

Ошибки формата (что не принимается):
- Неположительное число муравьёв; первая строка не число.
- Нет `##start` или `##end`.
- Повторное определение комнаты; неверные координаты.
- Рёбра к несуществующим комнатам; петли; дубликаты рёбер.

---

## Запуск: CLI
Выводит исходные данные и последовательность ходов в stdout.

```sh
go run ./cmd/main.go examples/example02.txt
```

---

## Запуск: сервер + визуализация
Вариант 1 (простой, позиционные аргументы):

```sh
go run ./cmd/server examples/example02.txt :8080
# затем откройте ссылку из stdout:
# Open visualization: http://localhost:8080/visual.html?file=examples/example02.txt
```

Вариант 2 (через флаги, все опциональны):

```sh
go run ./cmd/server -file examples/example02.txt -addr :8080 -web web
```

Скрипт быстрого запуска:

```sh
./start.sh cli   examples/example02.txt         # только CLI
./start.sh serve examples/example02.txt :8080   # сервер + визуализация
```

---

## Веб-интерфейс
- Открыть: `http://localhost:8080/visual.html?file=examples/example02.txt`
- Кнопки: `Старт`, `Пауза`, `Сброс`.
- Поддержка SVG-иконки муравья: параметр `ant`/`antImg` в URL.
  - Примеры: `?ant=MyAnt.svg`, поиск в `web/image/` и `web/images/`.

---

## HTTP API
- `GET /data?file=<path>`
  - Вход: относительный путь к `.txt` в пределах проекта (по умолчанию — файл, переданный при запуске сервера).
  - Успех (`200`):
    ```json
    {
      "rooms": [{"name":"A","x":0,"y":0,"isStart":false,"isEnd":false,"links":["B"]}],
      "moves": ["L1-A L2-B", "L1-B"]
    }
    ```
  - Ошибка (`400`): текст с описанием проблемы формата/данных.

---

## Валидация и ошибки
- Сервер валидирует входной файл на старте. При ошибке форматирования — процесс завершится и сервер не поднимется.
- Ошибки, которые возможны:
  - Неверное число в первой строке; нуль/отрицательное значение.
  - Отсутствует `##start`/`##end`.
  - Некорректные координаты; повторные комнаты; дубли рёбер; рёбра к неизвестным вершинам.
  - Нет путей от start к end — будет выведено предупреждение в CLI, визуализация покажет граф без движения.
  - Запрос `/data` с несуществующим `file` — `400 Bad Request`.
  - Несуществующая иконка муравья — фронтенд нарисует кружок (fallback) и предупредит в консоли.

---

## Лицензия
MIT (если требуется, поправьте под свои условия).